{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAiCA,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAE3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KAELH,EAEFF,EAAQ,C,SAACH,E,MAAUC,IAEnBG,EAAO,C,SAACJ,E,MAAUC,GAAO,GAI1BA,EAAM,G,CA9CGQ,SAASC,cAAc,SAE/BC,iBAAiB,UAEzB,SAAwBC,GACtBA,EAAIC,iBAEJ,MACEC,UAAUb,MAAEA,EAAKc,KAAEA,EAAIC,OAAEA,IACvBJ,EAAIK,cAEFC,EAAYC,OAAOlB,EAAMmB,OACzBC,EAAWF,OAAOJ,EAAKK,OACvBE,EAAaN,EAAOI,MAE1B,IAAIG,EAAYL,EACZM,EAAe,EAEnB,IAAK,IAAIC,EAAI,EAAGA,GAAIH,EAAYG,GAAI,EACjCD,GAAgB,EAEjBzB,EAAcyB,EAAcD,GAC3BG,KAAKC,GACLC,MAAMC,GAEPN,GAAaF,C,IA0BjB,MAAMM,EAAY,EAAC3B,SAACA,EAAQC,MAAEA,MAC5BJ,EAAAiC,OAAOC,QAAQ,uBAAqB/B,QAAiBC,OACnD+B,QAAMC,IAAIhC,EAAM,EAGd4B,EAAU,EAAC7B,SAACA,EAAQC,MAAEA,MAC1BJ,EAAAiC,OAAOI,QAAQ,sBAAoBlC,QAAeC,MAAU","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formRef = document.querySelector('.form');\n\nformRef.addEventListener('submit', submitPromise);\n\nfunction submitPromise (evt) {\n  evt.preventDefault();\n\n  const {\n    elements: { delay, step, amount  }\n  } = evt.currentTarget;\n  \n  const delayInit = Number(delay.value);\n  const stepInit = Number(step.value);\n  const amountInit = amount.value;\n\n  let delayProm = delayInit;\n  let positionProm = 0;\n\n  for (let i = 1; i<= amountInit; i +=1) {\n     positionProm += 1;\n\n    createPromise(positionProm, delayProm) \n    .then(onSuccess)\n    .catch(onError)\n\n    delayProm += stepInit;\n\n    }\n  \n   };\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n\n      if (shouldResolve) {\n        // Fulfill\n        resolve({position, delay});\n      } else {\n        reject({position, delay});\n        // Reject\n      }\n\n    }, delay);\n  });\n  \n};\n\nconst onSuccess = ({position, delay}) => {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  console.log(delay);\n};\n\nconst onError = ({position, delay}) => {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n};\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","document","querySelector","addEventListener","evt","preventDefault","elements","step","amount","currentTarget","delayInit","Number","value","stepInit","amountInit","delayProm","positionProm","i","then","$47d4ff9957288465$var$onSuccess","catch","$47d4ff9957288465$var$onError","Notify","success","console","log","failure"],"version":3,"file":"03-promises.a9be520d.js.map"}